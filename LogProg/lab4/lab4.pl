


an_morf(L,R):- morf(R, L, []).
morf(morf(S,K,R,N))-->
	 prefix(S), root(K,R,N).

prefix(prist(S)) -->  ["в"],["о"],{S='во'},!; ["в"],["ы"],{S='вы'},!; ["в"], {S='в'},!;
                      ["д"],["о"],{S='до'},!; ["з"],["а"],{S='за'},!;  ["о"],["б"],{S='об'},!; 
					  ["и"],["з"], {S='из'},!; ["и"],["с"],{S='ис'},!;
					  ["п"],["о"],["д"],{S='под'},!; ["п"],["р"],["и"],{S='при'},!; ["п"],["р"],["е"],{S='пре'},!; 
					  ["п"],["р"],["о"],{S='про'},!; ["р"],["а"],["з"],{S='про'},!;[], {S = '-'},!.
					  
root(korn(Res),rod(R),chislo(N)) --> { length(K,_)},K, ending(R,N),{koren(K,"",Res)},!.

ending(R,N) --> ["и"],["л"],["а"], {R='жен',N='един'},!; 
                ["и"],["л"],["о"], {R='сред',N='един'},!; 
				["и"],["л"],["и"],{R='-',N='множ'},!;
				["и"],["л"],{R='муж',N='един'},!. 
koren([],New,New).
koren([H|T],Last,Res):- atom_concat(Last,H,New),koren(T, New, Res).