#  Отчет по лабораторной работе №4
## по курсу "Логическое программирование"

## Обработка естественного языка

### студентка: Патрикеева Л.В.

## Результат проверки

| Преподаватель     | Дата         |  Оценка       |
|-------------------|--------------|---------------|
| Сошников Д.В. |              |               |
| Левинская М.А.|     7.12     |      5-       |

> *Комментарии проверяющих (обратите внимание, что более подробные комментарии возможны непосредственно в репозитории по тексту программы)*


## Введение

Естественные языки являются языками, на которых говорят люди, такие как английский, испанский, и французский языки. Они не были разработаны людьми (хотя люди пытаются навязать какие-то правила для них), они развивались естественным путем. Такие языки имеют довольно сложную структуру и сама система их устройства довольно сложная. Анализ естественного языка состоит из нескольких этапов. Сначала происходит предварительный анализ, где происходит поиск границ слов и предложений, далее идет морфологический, затем синтаксический, где проверяются зависимости между словами, а потом уже семантический, который анализирует смысл предложения или отдельных слов. Самой главной задачей анализа естественного языка является выявление закономерностей. В этом используется два подхода -- работа эксперта-лингвиста и автоматическое исследование размеченных данных. Пролог действительно удобен для подобного класса задач, т.к. на нём удобно описывать грамматику, она понятна человеку, который читает код, и в то же время человеку, который его пишет.  

Искусственные языки — специализированные языки, в которых лексика, фонетика и грамматика были специально разработаны для воплощения определённых целей. Именно целенаправленность отличает искусственные языки от естественных. Структура таких языков строгая и имет конкретные правила синтаксиса, семантики и т.д. Обработка искусственного языка проводится транслятором (компилятором), который обо всех правилах осведомлен и не предполагает за собой эвристики.
Prolog язык домено-ориентированный, то есть позволяет создавать специальные нотации под каждый язык, не исключением является и задача описания грамматик.
## Задание

7. Реализовать морфологический разбор глаголов: {выучил, изучила, изучили, обучил, ...}.  
Корни (уч, ...),  
приставки (вы, из, об, ...) — содержатся в словаре приставок  
окончания (ил, ила, ило, или).    
Результат должен содержать сведения о роде и числе.  

## Принцип решения

Необходимо было реализовать морфологический разбор глагола. Код получился очень коротким, в несколько строчек, поскольку я использовала DCG-нотацию, которая чаще всего применяется как раз таки для построения распознавателей контекстно-свободных грамматик. Алгорит решения прост. Вначале пытаемся найти приставку, все возможные приставки содержатся в специальном предикате `prefix`, если вдруг на вход подалось слово, которое либо не имеет приставки, либо имеет приставку, которая отсутсвует в нашем словаре, то вместо неё будет выведен прочерк, а приставка, которой не нашлось, будет рассматриваться, как корень. Ниже содержатся предикат `prefix` с моим набором приставок. Данный префикс проходится по всем возможным решениям данного предиката, пытаясь найти нужную нам комбинацию букв (так как на входе слово подаётся нам в виде списка букв).
```prolog
prefix(prist(S)) -->  ["в"],["о"],{S='во'},!; ["в"],["ы"],{S='вы'},!; ["в"], {S='в'},!;
                      ["д"],["о"],{S='до'},!; ["з"],["а"],{S='за'},!; ["о"],["б"],{S='об'},!; 
		      ["и"],["з"], {S='из'},!; ["и"],["с"],{S='ис'},!;
                      ["п"],["о"],["д"],{S='под'},!; ["п"],["р"],["и"],{S='при'},!; ["п"],["р"],["е"],{S='пре'},!; 
		      ["п"],["р"],["о"],{S='про'},!; ["р"],["а"],["з"],{S='про'},!;[], {S = '-'},!.
```
Поскольку я использую DCG-нотацию далее должен находится корень, а только потом окончание. Но в нашем случае нельзя найти корень, при этом не зная окончания. Поскольку на вход подаются слова русского языка, то длина слова вряд ли будет содержать более 50 букв. Поэтому, чтобы не переписывать код, я реализовала перебор все возможных корней, которые идут после приставки, до того момента, когда мы не встретим нужное нам окончание,если мы его так и не встретили, то слово просто не явлется синтаксически корректным и предикат морфологического разбора вернёт false. Ниже представлен пример предиката поиска корня. С помощью встроенного предиката length программа сама подбирает нужный корень, исходя из полученного окончания слова.

```prolog
root(korn(Res),rod(R),chislo(N)) --> {length(K,_)},K, ending(R,N), {koren(K,"",Res)},!.
```
Посколку корень я получаю в виде списка букв, я захотела произвести его вывод покрасивее. Для этого был написал предикат `koren`, который переводит список символов в строку. Ниже приведен код этого предиката.  
Мы отделяем по одному элементу от списка и с помощью встроенного предиката `atom_concat` производим конкатенацию двух атомов в один, точнее в одну строку Это продолжается до тех пор пока мы не переберём все элементы и список не окажется пустым, тогда мы возвращаем полученный результат. 
```prolog
koren([],New,New).
koren([H|T],Last,Res):- atom_concat(Last,H,New), koren(T, New, Res).
```
В предикате `root` я использовала еще один предикат, который называется `ending`. Данный предикат производит поиск возможных окончаний, они у нас все известны. И в зависимости от найденного окончания делает вывод о роде и числе слова. В случае, если слово у нас находится в множественном числе, то вместо рода выводится прочерк.
```prolog
ending(R,N) --> ["и"],["л"],["а"], {R='жен',N='един'},!; 
                ["и"],["л"],["о"], {R='сред',N='един'},!; 
		["и"],["л"],["и"],{R='-',N='множ'},!;
		["и"],["л"],{R='муж',N='един'},!. 
```
Основной предикат для морфологического разбора :
```prolog
an_morf(L,R):- morf(R, L, []).
morf(morf(S,K,R,N))--> prefix(S), root(K,R,N).
````

## Результаты

Результаты работы программы :
```prolog
?- an_morf(["у", "ч", "и", "л", "а"], X).
X = morf(prist(-), korn(уч), rod(жен), chislo(един)).

?- an_morf(["в", "ы", "у", "ч", "и", "л", "и"], X).
X = morf(prist(вы), korn(уч), rod(-), chislo(множ)).

?- an_morf(["о", "б","у","к","р","а","c", "и", "л"], X).
X = morf(prist(об), korn(украc), rod(муж), chislo(един)).


?- an_morf(["и", "з", "у", "ч", "и", "л", "а"], X).
X = morf(prist(из), korn(уч), rod(жен), chislo(един)).
```

## Выводы

Пролог оказывается очень удобным для анализа грамматических выссказываний и выражений. Это обусловлено тем, что при работе с грамматикой мы разбиваем каждый элемент исходного выражения или выссказывания на части, каждую из которых легко идентифицировать. Так же довольно просто и понятно, при должной снаровке, описываются функции вычлинения нужной информации. Вот, например, в моем варианте, код получился весьма коротким и действенным, когда в импиративных языках это заняло бы куда больше места, и отняло бы больше времени.
Благодаря данной лабораторной работе я познакомилась с DCG-нотацией. Такой способ построения грамматики в логических языках программирования оказался очень удобным.




